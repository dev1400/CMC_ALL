<mvc:View controllerName="dia.cmc.contractsinamendment.view.Master"
	xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc" xmlns:c="sap.ui.core" xmlns:layout="sap.ui.commons.layout"
	xmlns="sap.m" >
	<Page enableScrolling="true" title="{i18n>ApplicationTitle}">
		<IconTabBar enableScrolling="true" expanded="false"
			expandable="false" id="idIconTabBar" select="handleAmendmentIconTabBarSelect">
			<items>
				<IconTabFilter icon="sap-icon://accept" iconColor="Positive"
					design="Horizontal" count="" text="{i18n>AllDealsinAmendment}" key="{AllDealsinAmendment}">
				</IconTabFilter>
				<IconTabSeparator icon="sap-icon://open-command-field" />
				<IconTabFilter icon="sap-icon://value-help" iconColor="Critical"
					design="Horizontal" count="" text="{i18n>CreatedAmendments}" key="{i18n>CreatedAmendments}" />
				<IconTabSeparator icon="sap-icon://open-command-field" />
				<IconTabFilter icon="sap-icon://unlocked" iconColor="Negative"
					design="Horizontal" count="" text="{i18n>ReleasedAmendments}" key="{i18n>ReleasedAmendments}" />
				<IconTabSeparator icon="" />
				<IconTabFilter icon="sap-icon://complete" iconColor="Positive"
					design="Horizontal" count="" text="{i18n>ExecutedAmendments}" key="{i18n>ExecutedAmendments}" />				    
				
			</items>
			

		</IconTabBar>
		
		<layout:MatrixLayout id="idMatrixLayout">
            <layout:MatrixLayoutRow>
                <layout:MatrixLayoutCell vAlign="Middle" hAlign="Right" rowSpan="1" colSpan="1">
                         <Label text="{i18n>DateRangeSelectionLabel}" />
                </layout:MatrixLayoutCell>
                <layout:MatrixLayoutCell vAlign="Middle" hAlign="Center" rowSpan="1" colSpan="1">
                       <DateRangeSelection id="idExecutedAmendments" displayFormat="{i18n>DateFormat}" change="handleAmendmentDateRangeChange">
                       </DateRangeSelection>
                </layout:MatrixLayoutCell>
                <layout:MatrixLayoutCell vAlign="Middle" hAlign="Left" rowSpan="1" colSpan="1">
                        <Button type = "Accept" text= "{i18n>Go}" press="handleAmendmentDateRangePress"/>
                </layout:MatrixLayoutCell>
             </layout:MatrixLayoutRow>
         </layout:MatrixLayout>		
		           
		
	
		
		<Table id="idTable" fixedLayout="true" headerText=""
			items="{/DealInAmendmentCollection}">

			<columns>
				<Column width="12em" hAlign="Center">
					<Text text="{i18n>AmendmentIDAndType}" />
				</Column>
				<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
					<Text text="{i18n>DealIDAndDescription}" />
				</Column>
				<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
					<Text text="{i18n>CustomerDetails}" />
				</Column>
				<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
					<Text text="{i18n>AmendmentDescription}" />
				</Column>
				<Column hAlign="Center">
					<Text text="{i18n>AmendmentStatus}" />
				</Column>
				<Column hAlign="Center">
					<Text text="{i18n>CancelAmendment}" />
				</Column>
			</columns>
			<items>
				<ColumnListItem type="Navigation" press="handleAmendmentItemPress">

					<cells>

						<ObjectIdentifier id="idOI1" title="{AmendmentId}" text="{AmendmentType}"
							class="sapMTableContentMargin" />
						<ObjectIdentifier title="{DealId}" text="{DealDescription}"
							class="sapMTableContentMargin" />
						<ObjectIdentifier title="{CustomerName}"
							text="{i18n>Customeron} {
														path: 'StartDate',
														formatter: 'dia.cmc.common.util.Formatter.date'
														}
														{i18n>Customerfrom} {TriggeredBy} "
							class="sapMTableContentMargin" />

						<c:Icon src="sap-icon://popup-window" press="handleAmendmentPopoverPress" id="idToolPopUp"/>

						<c:Icon src="sap-icon://workflow-tasks" press="handleAmendmentWorkFlowPress" />

						<c:Icon src="sap-icon://sys-cancel" press="handleAmendmentCancelPress" />
					</cells>
				</ColumnListItem>
			</items>
		</Table>
	</Page>
</mvc:View>

